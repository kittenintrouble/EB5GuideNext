# Чеклист подготовки EB-5 Guide к публикации в App Store

## 1. Конфигурация проекта
- Проверь `Info.plist`: обновляй `CFBundleShortVersionString` (маркетинговая версия, например 1.0.0) и `CFBundleVersion` (build number) перед каждой загрузкой архива в App Store Connect. 
- Если будешь менять название приложения для конкретного релиза, обнови значение `CFBundleDisplayName` и при необходимости добавь переводы в `InfoPlist.strings` для всех локализаций.
- Убедись, что файл `GoogleService-Info.plist` соответствует production-проекту Firebase (Bundle ID и App ID должны совпадать с тем, что использует сборка для App Store).
- Для push-уведомлений подготовь Apple Push Notification service (APNs) certificate/key, включи push в Capabilities и проверь, что `aps-environment` совпадает с типом профилей (debug → development, release → production).
- При необходимости обнови `EB5GuideNext.entitlements` или заведи отдельные entitlements для debug/release, если используешь разные окружения.

## 2. Качество ассетов и локализация
- Файл `Assets.xcassets/AppIcon.appiconset` теперь содержит полный набор обязательных размеров; замени PNG-файлы на итоговые финальные и убедись, что иконки проходят проверку в Xcode Asset Catalog.
- Проверь актуальность `AccentColor` и других ассетов (при необходимости добавь @3x/@2x варианты).
- Прогоняй UI на всех локалях (`en`, `zh-Hans`, `vi`, `ko`) и проверь, что переводы в `*.lproj/Localizable.strings` соответствуют последней продуктовой версии.
- Обнови скриншоты и промо-материалы под каждую локаль; Apple требует скриншоты для 6.7", 5.5" (iPhone) и, если поддерживается, для iPad (12.9" и 10.5").

## 3. Политики и приватность
- В приложении уже прописан отказ от неэкспортируемого шифрования (`ITSAppUsesNonExemptEncryption = false`) и причина для использования `UserDefaults` (`NSPrivacyAccessedAPITypeUserDefaults` → `CA92.1`). Если появятся новые «required reason» API, не забудь добавить описание.
- Обеспечь доступность политики конфиденциальности напрямую из приложения (`PrivacyPolicyView`) и размести актуальную ссылку в App Store Connect.
- Подготовь ответы для раздела App Privacy в App Store Connect: какие типы данных собираются через `ProjectInquiry` (контактные данные), как они используются, передаются ли третьим лицам.

## 4. Сборка и проверка качества
- Очисти build-кэш: `xcodebuild -scheme EB5GuideNext -configuration Release clean build` (или через Product → Clean Build Folder). Убедись, что архив сборки (`Product → Archive`) создаётся без ошибок.
- Запусти приложение на последних версиях iOS (актуальный релиз + предыдущий) и проверь сценарии: онбординг, новости, проекты, отправка формы, push-уведомления (sandbox/production окружение).
- Прогони любые доступные unit/UI тесты; добавь их при необходимости для критичных модулей (например, парсинг данных и локализация).
- Валидируй push-уведомления в TestFlight: убедись, что пользователи получают уведомления на релизной конфигурации.

## 5. App Store Connect и ревью
- Создай/обнови карточку приложения: название, подзаголовок, ключевые слова, описание, ссылки на поддержку и политику конфиденциальности.
- Заполни раздели Age Rating, App Privacy, подписки (если применимо), и укажи, что приложение использует push-уведомления.
- Подготовь тестовый аккаунт или предоставь ревью-команде доступ к демо-данным, если часть функционала требует авторизации/бэкенда.
- После загрузки архива через Xcode Organizer или `xcrun altool` переведи сборку в TestFlight, протестируй и только затем отправляй на ревью.
- Оставь в `App Review Information` контакт и примечания (например, сценарий проверки push-уведомлений или необходимость VPN для API, если она есть).

## 6. Что обновлять при следующих релизах
- Инкрементируй версии и build number в `Info.plist`.
- Пересобирай иконки при изменении фирменного стиля и проверяй соответствие новым требованиям Apple.
- Перепроверяй App Privacy ответы и причину использования защищённых API при добавлении SDK или новых функций.
- Заготавливай changelog (What’s New) и новых скриншоты, если интерфейс меняется.

Сохрани этот checklist рядом с процессом релизов: так команда быстро вспомнит ключевые шаги при подготовке очередного обновления.
